def bernstein[n: !â„•](func: 
const ğ”¹^n!â†’ qfree ğ”¹): !ğ”¹^n {
    cand := vector(n, false): ğ”¹^n;
    
    for i in [0..n) {
        cand[i] := H(cand[i]);
    }
    if func(cand) {
        phase(Ï€);
    }
    
    for i in [0..n) {
        cand[i] := H(cand[i]);
    }
    
    return measure(cand)
}
