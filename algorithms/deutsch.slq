def deutsch[n: !â„•](func: 
const ğ”¹^n!â†’ qfree ğ”¹): !ğ”¹ {
    cand := vector(n, false): ğ”¹^n;
    
    for i in [0..n) {
        cand[i] := H(cand[i]);
    }
    if func(cand) {
        phase(Ï€);
    }
    
    for i in [0..n) {
        cand[i] := H(cand[i]);
    }
    res := measure(cand): !ğ”¹^n;
    
    for i in [0..n) {
        if res[i] {
            
            return false;
        }
        
    }
    
    return true;
}
